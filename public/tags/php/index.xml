<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>PHP on Tom&#39;s Blog</title>
    <link>http://localhost:1313/tags/php/</link>
    <description>Recent content in PHP on Tom&#39;s Blog</description>
    <generator>Hugo</generator>
    <language>zh</language>
    <copyright>Tom Almighty</copyright>
    <lastBuildDate>Mon, 06 May 2024 10:40:45 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/php/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>PHP获取Bing每日壁纸</title>
      <link>http://localhost:1313/posts/php-bing-api/</link>
      <pubDate>Mon, 06 May 2024 10:40:45 +0000</pubDate>
      <guid>http://localhost:1313/posts/php-bing-api/</guid>
      <description>前言 自建一个 API 获取随机图片可以用于博客 cover，网上找到一篇文章，本文仅记录，所有代码都来自 这篇文章。&#xA;部署 新建一个名为 bing.php 的文件，写入下面代码：&#xA;&amp;lt;?php // 判断是否随机调用 $gettimebase = isset($_GET[&amp;#39;day&amp;#39;]) ? $_GET[&amp;#39;day&amp;#39;] : &amp;#39;&amp;#39;; if (isset($_GET[&amp;#39;rand&amp;#39;]) &amp;amp;&amp;amp; $_GET[&amp;#39;rand&amp;#39;] === &amp;#39;false&amp;#39;) { $gettime = empty($gettimebase) ? 0 : $gettimebase; } else { // 若不为随机调用则判断是否指定日期 $gettime = empty($gettimebase) ? rand(-1, 7) : $gettimebase; } // 获取 Bing Json 信息 $mkt = isset($_GET[&amp;#39;cn&amp;#39;]) &amp;amp;&amp;amp; $_GET[&amp;#39;cn&amp;#39;] === &amp;#39;true&amp;#39; ? &amp;#39;zh-CN&amp;#39; : &amp;#39;en-US&amp;#39;; $json_string = file_get_contents(&amp;#34;https://www.bing.com/HPImageArchive.aspx?format=js&amp;amp;idx=$gettime&amp;amp;n=1&amp;amp;mkt=$mkt&amp;#34;); // 转换为 PHP 数组 $data = json_decode($json_string); // 提取基础 URL $imgurlbase = &amp;#34;https://www4.</description>
    </item>
    <item>
      <title>记录一次PHP启动失败</title>
      <link>http://localhost:1313/posts/php/</link>
      <pubDate>Fri, 26 Jan 2024 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/php/</guid>
      <description>问题 在部署一个站点时，在安装了 PHP 7.4 的情况下安装 PHP 8.2，然而安装完成后启动报错。&#xA;具体报错内容如下：&#xA;/www/server/php/82/sbin/php-fpm: symbol lookup error: /www/server/php/82/sbin/php-fpm:undefined symbol: crypto_pwhash_scryptsalsa208sha256_opslimit_interactive 解决 直接谷歌搜索报错内容，发现宝塔面板论坛有相关问题：php无法启动的N种常见错误解决教程 情况七，给出的解决办法是重新编译安装，然而编译安装后仍未解决（也有成功的，可以先试试）。CSDN 也有相关问题，并在 Serverfault找到了解决方法，来源在文末。&#xA;方法就是重新编译安装 libsodium&#xA;具体步骤如下：&#xA;删除 usr/local/lib目录下相关 libsodium文件 下载 tar 包，并解压 wget &amp;lt;https://download.libsodium.org/libsodium/releases/libsodium-1.0.19-stable.tar.gz&amp;gt; # 建议稳定版 &amp;lt;https://download.libsodium.org/libsodium/releases/&amp;gt; tar -zxvf libsodium-1.0.19-stable.tar.gz 编译安装 cd ./libsodium-stable ./configure make &amp;amp;&amp;amp; make check sudo make install 完成后即可成功启动。&#xA;参考 Serverfault php无法启动的N种常见错误解决教程 CSDN Libsodium 官方文档 </description>
    </item>
  </channel>
</rss>
