<?xml-stylesheet href="/rss.xsl" type="text/xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Tom&#39;s Blog</title>
    <link>http://localhost:1313/</link>
    <description>Recent content on Tom&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <copyright>Tom Almighty</copyright>
    <lastBuildDate>Thu, 08 Aug 2024 00:00:00 +0000</lastBuildDate>
    
        <atom:link href="http://localhost:1313/index.xml" rel="self" type="application/rss+xml" />
    
    
    
        <item>
        <title>使用Hugo搭建个人博客</title>
        <link>http://localhost:1313/posts/hugo-blog/</link>
        <pubDate>Thu, 21 Mar 2024 17:13:32 +0800</pubDate>
        
        <guid>http://localhost:1313/posts/hugo-blog/</guid>
        <description>Tom&#39;s Blog http://localhost:1313/posts/hugo-blog/ -&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;博客的引擎选择一直是个问题。动态博客和静态博客各有优劣。动态博客 &lt;code&gt;Wordpress&lt;/code&gt;、&lt;code&gt;Typecho&lt;/code&gt; 等拥有精美的主题，后台管理也比较方便，但是需要服务器。静态博客如 &lt;code&gt;Hexo&lt;/code&gt;、&lt;code&gt;Hugo&lt;/code&gt;、&lt;code&gt;Astro&lt;/code&gt; 等可以直接部署静态页面，但是相对写文章比较繁琐一点。今天再次记录一下之前折腾的 &lt;code&gt;Hugo&lt;/code&gt;，之前使用的主题是 &lt;code&gt;Loveit&lt;/code&gt;，后来觉得 &lt;code&gt;Stack&lt;/code&gt; 不错，所以本次就拿这个主题记录一下。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;前提&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;部署静态博客需要的：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一个 &lt;code&gt;Github&lt;/code&gt; 账号&lt;/li&gt;
&lt;li&gt;一个 &lt;code&gt;Vercel&lt;/code&gt; 账号（非必须）&lt;/li&gt;
&lt;li&gt;一个域名（非必须，但是有比较好）&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;1-下载-hugo-和-git-到本地&#34;&gt;1. 下载 &lt;code&gt;Hugo&lt;/code&gt; 和 &lt;code&gt;Git&lt;/code&gt; 到本地&lt;/h3&gt;
&lt;p&gt;将 &lt;code&gt;Hugo&lt;/code&gt; 下载到本地，最好下载 &lt;code&gt;Extended&lt;/code&gt; 版本，下载地址：&lt;a href=&#34;https://github.com/gohugoio/hugo/releases/&#34;&gt;点此下载&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;下载后放到一个不会删掉的地方，然后在系统环境变量 &lt;code&gt;Path&lt;/code&gt; 中添加 &lt;code&gt;Hugo&lt;/code&gt; 程序 和 &lt;code&gt;Git&lt;/code&gt; 所在目录，完成后重启电脑，之后可以在 &lt;code&gt;Windows Terminal&lt;/code&gt; 可以检测一下是否添加成功。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://pic.imgdb.cn/item/65fc04cd9f345e8d030e6674.webp&#34; alt=&#34;hugo-version&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-创建仓库&#34;&gt;2. 创建仓库&lt;/h3&gt;
&lt;p&gt;在本地一个目录当作 &lt;code&gt;Hugo&lt;/code&gt; 的目录，在此打开 &lt;code&gt;Windows Terminal&lt;/code&gt;，然后输入下面的命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hugo new site blog
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;输入完成后会在文件夹下出现一个 &lt;code&gt;blog&lt;/code&gt; 文件夹。&lt;/p&gt;
&lt;h3 id=&#34;3-下载主题&#34;&gt;3. 下载主题&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git init
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git submodule add https://github.com/CaiJimmy/hugo-theme-stack/ themes/hugo-theme-stack
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 更新主题&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git submodule update --remote
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;如果后续修改主题，最好可以 fork 主题仓库，然后将上述地址换成自己的仓库地址。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;拉取完成后，打开博客文件夹内的 &lt;code&gt;theme/hugo-theme-stack/exampleSite&lt;/code&gt;，将文件夹内的 &lt;code&gt;config.yaml&lt;/code&gt; 复制到站点根目录下，同时删除原有的 &lt;code&gt;Hugo.toml&lt;/code&gt;，然后修改 &lt;code&gt;config.toml&lt;/code&gt; 内的配置。&lt;/p&gt;
&lt;h3 id=&#34;4-发布网站&#34;&gt;4. 发布网站&lt;/h3&gt;
&lt;p&gt;首先将站点目录推送到 &lt;code&gt;Github&lt;/code&gt;，创建一个新的仓库，将 &lt;code&gt;blog&lt;/code&gt; 文件夹内的内容推送，接下来在 &lt;code&gt;vercel&lt;/code&gt; 创建一个新的项目，导入刚刚推送的仓库即可，同时可以绑定自己的域名方便访问。&lt;/p&gt;
&lt;h3 id=&#34;5-发布文章&#34;&gt;5. 发布文章&lt;/h3&gt;
&lt;p&gt;首先可以将 &lt;code&gt;~blog/themes/hugo-theme-stack/archetypes/default.md&lt;/code&gt; 复制到站点目录下的 &lt;code&gt;archetypes&lt;/code&gt;目录下，然后修改其中的文件头信息：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;title&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;{{ replace .Name &amp;#34;&lt;/span&gt;-&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; | title }}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;author&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Tom Almighty&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;date&lt;/span&gt;: {{ &lt;span style=&#34;color:#ae81ff&#34;&gt;.Date }}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;math&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;license&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;hidden&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;comments&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;draft&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;image&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;description&lt;/span&gt;: 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;slug&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;tags&lt;/span&gt;: []
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;categories&lt;/span&gt;: [&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;折腾记录&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;日常生活&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;学习笔记&amp;#34;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;之后可以在站点根目录下打开 &lt;code&gt;Windows Terminal&lt;/code&gt; ，输入命令即可创建第一篇文章。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hugo new post/my-first.md
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;参考&#34;&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://vofficial233.com/archives/deploy-my-hugo-blog&#34;&gt;Summer博客&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://bore.vip/archives/3bf3725e/&#34;&gt;Bore&amp;rsquo;s Note&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
- http://localhost:1313/posts/hugo-blog/ - Tom Almighty</description>
        </item>
    
    
    
        <item>
        <title>Webstack Hugo导航</title>
        <link>http://localhost:1313/posts/webstack-hugo/</link>
        <pubDate>Thu, 21 Mar 2024 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/posts/webstack-hugo/</guid>
        <description>Tom&#39;s Blog http://localhost:1313/posts/webstack-hugo/ -&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Webstack-Hugo&lt;/code&gt; 导航是基于纯静态的网址导航网站 &lt;a href=&#34;https://github.com/WebStackPage/WebStackPage.github.io&#34;&gt;webstack.cc&lt;/a&gt; 制作的 &lt;a href=&#34;https://gohugo.io/&#34;&gt;Hugo&lt;/a&gt; 主题，是一个基于 &lt;code&gt;Hugo&lt;/code&gt; 的静态响应式网址导航主题。添加了天气及夜间模式，主要的配置信息都集成到了 &lt;code&gt;config.toml&lt;/code&gt;，导航的各个信息都集成在 &lt;code&gt;data/webstack.yml&lt;/code&gt; 文件中。&lt;/p&gt;
&lt;h2 id=&#34;部署&#34;&gt;部署&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;首先下载 &lt;code&gt;Hugo&lt;/code&gt; 到本地，同时添加系统环境变量。找到一个文件夹，然后在文件夹下打开 &lt;code&gt;Windows Terminal&lt;/code&gt; 创建一个新的 &lt;code&gt;Hugo&lt;/code&gt; 站点。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hugo new site webstack-hugo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;下载 &lt;code&gt;Webstack-Hugo&lt;/code&gt; 源码，并解压到 &lt;code&gt;~/webstack-hugo/themes&lt;/code&gt; 文件夹下，名称更改为 &lt;code&gt;Webstack-Hugo&lt;/code&gt;，将 &lt;code&gt;~/webstack-hugo/themes/Webstack-Hugo/exampleSite&lt;/code&gt; 文件夹下所有内容复制到 &lt;code&gt;Hugo&lt;/code&gt; 站点根目录，并删除站点根目录的 &lt;code&gt;hugo.toml&lt;/code&gt; 文件。&lt;/li&gt;
&lt;li&gt;修改网站配置。
&lt;ul&gt;
&lt;li&gt;配置信息在 &lt;code&gt;config.toml&lt;/code&gt; 文件中&lt;/li&gt;
&lt;li&gt;导航信息在 &lt;code&gt;data/webstack.yml&lt;/code&gt; 文件中&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;新建一个 &lt;code&gt;Github&lt;/code&gt; 仓库，将 &lt;code&gt;Hugo&lt;/code&gt; 站点根目录下的文件推送到仓库，然后在 &lt;code&gt;Vercel&lt;/code&gt; 创建新的项目并导入仓库。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;网站-icon-获取&#34;&gt;网站 icon 获取&lt;/h2&gt;
&lt;p&gt;可以通过 API 获取网站的图标，地址如下：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;https://api.iowen.cn/favicon/www.iowen.cn.png
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;将需要获取的网址替换到 &lt;code&gt;favicon/&lt;/code&gt; 后 &lt;code&gt;.png&lt;/code&gt; 前，也可以通过在线工具箱：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;https://tool.cccyun.cc/favicon
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;问题修复&#34;&gt;问题修复&lt;/h2&gt;
&lt;p&gt;部署好站点后会发现网站样式无法正常加载，但是本地部署正常，解决方法：将 &lt;code&gt;layouts/partials&lt;/code&gt; 文件夹下文件中 &lt;code&gt;relURL&lt;/code&gt; 更换为 &lt;code&gt;absURL&lt;/code&gt; 即可。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;在 &lt;code&gt;Hugo&lt;/code&gt; 的模板中，&lt;code&gt;relURL&lt;/code&gt; 用于将给定的路径转换为相对于网站根目录的 &lt;code&gt;URL&lt;/code&gt;。如果你的 &lt;code&gt;Hugo&lt;/code&gt; 网站部署在 &lt;code&gt;https://example.com/blog/&lt;/code&gt;，则 &lt;code&gt;{{ &amp;quot;css/styles.css&amp;quot; | relURL }}&lt;/code&gt; 将被渲染为 &lt;code&gt;/blog/css/styles.css&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;然而，如果你的 &lt;code&gt;Hugo&lt;/code&gt; 网站部署在域名的根目录（如 &lt;code&gt;https://example.com/&lt;/code&gt;），则 &lt;code&gt;relURL&lt;/code&gt; 可能会导致问题，因为它会在路径的开始处添加一个额外的 &lt;code&gt;/&lt;/code&gt;。因此删除所有的 &lt;code&gt;relURL&lt;/code&gt; 调用可以解决样式不显示的问题。&lt;/p&gt;
&lt;p&gt;另外，&lt;code&gt;GitHub Pages&lt;/code&gt; 和 &lt;code&gt;Cloudflare Pages&lt;/code&gt; 在处理静态资源路径时可能有所不同。&lt;code&gt;GitHub Pages&lt;/code&gt; 默认将项目部署在子路径（如 &lt;code&gt;https://username.github.io/repo/&lt;/code&gt;），而 &lt;code&gt;Cloudflare Pages&lt;/code&gt; 可能将项目部署在域名的根目录。因此，如果 Hugo 模板使用了 &lt;code&gt;relURL&lt;/code&gt;，则可能在 &lt;code&gt;GitHub Pages&lt;/code&gt; 上出现问题，但在 &lt;code&gt;Cloudflare Pages&lt;/code&gt; 上正常。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;去掉网格背景&#34;&gt;去掉网格背景&lt;/h2&gt;
&lt;p&gt;如果不喜欢网格背景可以更改下面两个文件内代码解决：&lt;/p&gt;
&lt;p&gt;修改 &lt;code&gt;assets/css/custom-style.css&lt;/code&gt; 文件内 &lt;code&gt;109&lt;/code&gt; 行也就是倒数第二行代码的背景颜色代码：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-diff&#34; data-lang=&#34;diff&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;- background-color: #d8d8d8;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;+ background-color: #f9f9f9;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;修改 &lt;code&gt;layouts/partials/content_header.html&lt;/code&gt; 文件内第一行代码：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-diff&#34; data-lang=&#34;diff&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;- &amp;lt;div class=&amp;#34;main-content flex-fill grid-bg&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;+ &amp;lt;div class=&amp;#34;main-content flex-fill&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;参考&#34;&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/shenweiyan/WebStack-Hugo/issues/24&#34;&gt;页面样式和路径问题&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://yelleis.top/p/13cf63f4/&#34;&gt;Yelle 博客&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
- http://localhost:1313/posts/webstack-hugo/ - Tom Almighty</description>
        </item>
    
    
    
        <item>
        <title>Windows终端美化</title>
        <link>http://localhost:1313/posts/windows-terminal/</link>
        <pubDate>Mon, 18 Mar 2024 10:27:32 +0800</pubDate>
        
        <guid>http://localhost:1313/posts/windows-terminal/</guid>
        <description>Tom&#39;s Blog http://localhost:1313/posts/windows-terminal/ -&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;Windows 推出了新的终端 &lt;code&gt;Windows Teminal&lt;/code&gt;，虽然外观有所进步，但还是达不到自己预期，因此可以自己简单修改一下。&lt;/p&gt;
&lt;h2 id=&#34;准备工作&#34;&gt;准备工作&lt;/h2&gt;
&lt;p&gt;计算机上启动 &lt;code&gt;Windows PowerShell&lt;/code&gt; 时，执行策略很可能是 &lt;code&gt;Restricted&lt;/code&gt;（默认设置）。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Restricted&lt;/code&gt; 执行策略不允许任何脚本运行。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AllSigned&lt;/code&gt; 和 &lt;code&gt;RemoteSigned&lt;/code&gt; 执行策略可防止 &lt;code&gt;Windows PowerShell&lt;/code&gt; 运行没有数字签名的脚本。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;因此如果直接安装很可能出现无法运行脚本的错误。&lt;/p&gt;
&lt;h3 id=&#34;查看当前策略&#34;&gt;查看当前策略&lt;/h3&gt;
&lt;p&gt;打开 &lt;code&gt;PowerShell&lt;/code&gt; 然后输入:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;get-executionpolicy
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;PS C:\WINDOWS\system32&amp;gt; get-executionpolicy
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Restricted
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;修改策略&#34;&gt;修改策略&lt;/h3&gt;
&lt;p&gt;以管理员身份打开 &lt;code&gt;Windows Posershell&lt;/code&gt;，执行下列命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;set-executionpolicy remotesigned
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 运行后输入 Y&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;安装&#34;&gt;安装&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;首先在微软商店下载两个应用，直接搜索 &lt;code&gt;Windows Terminal&lt;/code&gt; 以及 &lt;code&gt;oh-my-posh&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装字体。安装作者推荐的 &lt;code&gt;MesloLGM NF&lt;/code&gt; 字体，&lt;a href=&#34;https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/Meslo.zip&#34;&gt;点此下载&lt;/a&gt;，这样可以解决部分字体图标渲染问题。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;设置字体。打开 &lt;code&gt;Windows Terminal&lt;/code&gt;，按 &lt;code&gt;Ctrl + Shift + 逗号&lt;/code&gt;打开设置文件，然后在第 &lt;code&gt;41&lt;/code&gt; 行 &lt;code&gt;profiles&lt;/code&gt; 下 &lt;code&gt;default&lt;/code&gt; 中添加字体设置，在第 &lt;code&gt;43&lt;/code&gt; 行回车，然后添加如下代码后保存。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;font&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;face&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;MesloLGM NF&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;加载 &lt;code&gt;oh-my-posh&lt;/code&gt; 设置，在 &lt;code&gt;Windows Terminal&lt;/code&gt; 中输入下面第一行命令创建新配置文件，创建后输入第二行命令，然后将第三条命令保存：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (!(Test-Path -Path $PROFILE )) { New-Item -Type File -Path $PROFILE -Force }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;notepad $profile
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;oh-my-posh init pwsh | Invoke-Expression
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这样 &lt;code&gt;oh-my-posh&lt;/code&gt; 就安装完成了，接下来可以自己选择主题。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;主题&#34;&gt;主题&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;oh-my-posh&lt;/code&gt; 有很多主题，可以在官方文档页面预览，地址如下：&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://ohmyposh.dev/docs/themes&#34;&gt;主题预览&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;选择好自己的主题后，在终端输入下面的命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Get-PoshThemes
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后终端会出现所有的主题预览，最后会出现主题文件所在地址，打开即可看到所有的主题文件，再次输入 &lt;code&gt;notepad $profile&lt;/code&gt;，然后将配置修改为以下：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;oh-my-posh init pwsh --config $env:POSH_THEMES_PATH/cloud-native-azure.omp.json | Invoke-Expression
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;可以将主题名称修改为自己想要的主题，保存后即可完成。&lt;/p&gt;
&lt;h2 id=&#34;配置自动补全&#34;&gt;配置自动补全&lt;/h2&gt;
&lt;p&gt;自动补全插件为 &lt;a href=&#34;https://github.com/PowerShell/PSReadLine&#34;&gt;PSReadLine&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;在终端安装模块：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Install-Module -Name PowerShellGet -Force -Scope CurrentUser
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Install-Module PSReadLine -Scope CurrentUser
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;或者可以使用管理员打开终端，这样命令后就不需要加 &lt;code&gt;-Scope CurrentUser&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;安装好模块后输入 &lt;code&gt;notepad $profile&lt;/code&gt;打开配置文件，添加下列命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Import-Module PSReadLine
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Set-PSReadlineKeyHandler -Key Tab -Function Complete
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;或者可以直接在配置文件中添加官方示例的代码，地址&lt;a href=&#34;https://raw.githubusercontent.com/PowerShell/PSReadLine/master/PSReadLine/SamplePSReadLineProfile.ps1&#34;&gt;点击这里&lt;/a&gt;，需要注意的是，下面两行代码需要放到最开头，同时在 &lt;code&gt;Import-Module PSReadLine&lt;/code&gt; 下一行添加 &lt;code&gt;Set-PSReadlineKeyHandler -Key Tab -Function Complete&lt;/code&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 放到开头&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;using namespace System.Management.Automation
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;using namespace System.Management.Automation.Language
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Import-Module PSReadLine
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Set-PSReadlineKeyHandler -Key Tab -Function Complete
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;个人配置&#34;&gt;个人配置&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 初始化配置及主题&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;oh-my-posh init pwsh --config $env:POSH_THEMES_PATH/cloud-native-azure.omp.json | Invoke-Expression
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 导入模块&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Import-Module PSReadLine
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 设置 TAB 键补全&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Set-PSReadlineKeyHandler -Key Tab -Function Complete
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 设置 Ctrl+z 为撤销&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Set-PSReadLineKeyHandler -Key &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Ctrl+z&amp;#34;&lt;/span&gt; -Function Undo
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 设置向上键为后向搜索历史记录&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Set-PSReadLineKeyHandler -Key UpArrow -ScriptBlock {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  [&lt;span style=&#34;color:#66d9ef&#34;&gt;Microsoft.PowerShell.PSConsoleReadLine&lt;/span&gt;]::HistorySearchBackward()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  [&lt;span style=&#34;color:#66d9ef&#34;&gt;Microsoft.PowerShell.PSConsoleReadLine&lt;/span&gt;]::EndOfLine()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 设置向下键为前向搜索历史纪录&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Set-PSReadLineKeyHandler -Key DownArrow -ScriptBlock {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  [&lt;span style=&#34;color:#66d9ef&#34;&gt;Microsoft.PowerShell.PSConsoleReadLine&lt;/span&gt;]::HistorySearchForward()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  [&lt;span style=&#34;color:#66d9ef&#34;&gt;Microsoft.PowerShell.PSConsoleReadLine&lt;/span&gt;]::EndOfLine()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;参考&#34;&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://syxdevcode.github.io/2021/09/04/PowerShell%EF%BC%9A%E5%9B%A0%E4%B8%BA%E5%9C%A8%E6%AD%A4%E7%B3%BB%E7%BB%9F%E4%B8%8A%E7%A6%81%E6%AD%A2%E8%BF%90%E8%A1%8C%E8%84%9A%E6%9C%AC%EF%BC%8C%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/&#34;&gt;syxdevcode 博客&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://ohmyposh.dev/docs/themes&#34;&gt;oh-my-posh 文档&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.ichr.me/post/windows-terminal-configuration/#%E6%9B%B4%E8%BF%9B%E4%B8%80%E6%AD%A5%E2%80%94%E2%80%94Oh-My-Posh&#34;&gt;ChrAlpha&amp;rsquo;s Blog&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/354603010&#34;&gt;知乎&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://lzw.me/a/windows-terminal-update-oh-my-posh.html/comment-page-1&#34;&gt;志文工作室&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
- http://localhost:1313/posts/windows-terminal/ - Tom Almighty</description>
        </item>
    
    
    
        <item>
        <title>常用审计规则</title>
        <link>http://localhost:1313/posts/shenji/</link>
        <pubDate>Tue, 12 Mar 2024 16:42:34 +0800</pubDate>
        
        <guid>http://localhost:1313/posts/shenji/</guid>
        <description>Tom&#39;s Blog http://localhost:1313/posts/shenji/ -&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;api|ps|sv|offnavi|newvector|ulog&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;imap|newloc&lt;span style=&#34;color:#f92672&#34;&gt;)(&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;map|&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;baidu|n&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;shifen&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;com
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;.+&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;|^&lt;span style=&#34;color:#f92672&#34;&gt;)(&lt;/span&gt;360|so&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;cn|com&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;.*&lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;.&lt;span style=&#34;color:#f92672&#34;&gt;||)(&lt;/span&gt;dafahao|minghui|dongtaiwang|epochtimes|ntdtv|falundafa|wujieliulan|zhengjian&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;org|com|net&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;.*&lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;.&lt;span style=&#34;color:#f92672&#34;&gt;||)(&lt;/span&gt;shenzhoufilm|secretchina|renminbao|aboluowang|mhradio|guangming|zhengwunet|soundofhope|yuanming|zhuichaguoji|fgmtv|xinsheng|shenyunperformingarts|epochweekly|tuidang|shenyun|falundata|bannedbook&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;org|com|net&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;.*&lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;.&lt;span style=&#34;color:#f92672&#34;&gt;||)(&lt;/span&gt;icbc|ccb|boc|bankcomm|abchina|cmbchina|psbc|cebbank|cmbc|pingan|spdb|citicbank|cib|hxb|bankofbeijing|hsbank|tccb|4001961200|bosc|hkbchina|njcb|nbcb|lj-bank|bjrcb|jsbchina|gzcb|cqcbank|czbank|hzbank|srcb|cbhb|cqrcb|grcbank|qdccb|bocd|hrbcb|jlbank|bankofdl|qlbchina|dongguanbank|cscb|hebbank|drcbank|zzbank|bsb|xmccb|hljrcc|jxnxs|gsrcu|fjnx|sxnxs|gx966888|gx966888|zj96596|hnnxs|ahrcu|shanxinj|hainanbank|scrcu|gdrcu|hbxh|ynrcc|lnrcc|nmgnxs|hebnx|jlnls|js96008|hnnx|sdnxs&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;org|com|net|cn&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;.*&lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;.&lt;span style=&#34;color:#f92672&#34;&gt;||)(&lt;/span&gt;unionpay|alipay|baifubao|yeepay|99bill|95516|51credit|cmpay|tenpay|lakala|jdpay&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;org|com|net|cn&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;.*&lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;.&lt;span style=&#34;color:#f92672&#34;&gt;||)(&lt;/span&gt;firstbank|bot|cotabank|megabank|tcb-bank|landbank|hncb|bankchb|tbb|ktb|tcbbank|scsb|bop|sunnybank|kgibank|fubon|ctbcbank|cathaybk|eximbank|bok|ubot|feib|yuantabank|sinopac|esunbank|taishinbank|jihsunbank|entiebank|hwataibank|csc|skbank&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;org|com|net|tw&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Subject|HELO|SMTP&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;torrent|&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;torrent|peer_id&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;|info_hash|get_peers|find_node|BitTorrent|announce_peer|announce&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;php&lt;span style=&#34;color:#ae81ff&#34;&gt;\?&lt;/span&gt;passkey&lt;span style=&#34;color:#f92672&#34;&gt;=)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;BitTorrent protocol
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;^.*&lt;span style=&#34;color:#ae81ff&#34;&gt;\@&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)(&lt;/span&gt;guerrillamail|guerrillamailblock|sharklasers|grr|pokemail|spam4|bccto|chacuo|027168&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;info|biz|com|de|net|org|me|la&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;.?&lt;span style=&#34;color:#f92672&#34;&gt;)(&lt;/span&gt;xunlei|sandai|Thunder|XLLiveUD&lt;span style=&#34;color:#f92672&#34;&gt;)(&lt;/span&gt;.&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;- http://localhost:1313/posts/shenji/ - Tom Almighty</description>
        </item>
    
    
    
        <item>
        <title>部署自己的ChatGPT并白嫖GPT4的API</title>
        <link>http://localhost:1313/posts/cogpt/</link>
        <pubDate>Thu, 07 Mar 2024 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/posts/cogpt/</guid>
        <description>Tom&#39;s Blog http://localhost:1313/posts/cogpt/ -&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ChatGPT&lt;/code&gt; 官网使用不便，并且访问速度不佳，因此部署自己的 &lt;code&gt;web&lt;/code&gt; 页面，通过 &lt;code&gt;API&lt;/code&gt; 使用成为了主流选择，本文通过 &lt;code&gt;ChatGPTNextWeb&lt;/code&gt; 部署页面，并通过 &lt;code&gt;copilot&lt;/code&gt; 项目白嫖 &lt;code&gt;GPT4&lt;/code&gt; 的 &lt;code&gt;API&lt;/code&gt;。
&lt;strong&gt;前提：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;copilot&lt;/code&gt; 访问权限（Github 学生包可以白嫖）&lt;/li&gt;
&lt;li&gt;&lt;code&gt;vercel&lt;/code&gt; 账号&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本文用到的项目地址如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/Geniucker/CoGPT&#34;&gt;CoGPT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web&#34;&gt;NextChat&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 &lt;code&gt;cogpt&lt;/code&gt; 可以把 &lt;code&gt;OpenAI&lt;/code&gt; &lt;code&gt;API&lt;/code&gt; 格式的请求转发到 &lt;code&gt;GitHub&lt;/code&gt; &lt;code&gt;Copilot&lt;/code&gt; 服务端，从而免费使用 &lt;code&gt;gpt-4&lt;/code&gt;。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;警告来自作者博客&#34;&gt;警告（来自作者博客）&lt;/h3&gt;
&lt;p&gt;这个项目仅适合&lt;strong&gt;个人&lt;/strong&gt;使用。并不适合访问量巨大的盈利项目。&lt;/p&gt;
&lt;p&gt;最佳实践方式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;本机部署，仅自己使用（推荐）&lt;/li&gt;
&lt;li&gt;部署在个人服务器上，仅自己使用，或和几个朋友共同使用（不公开）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不建议的方式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;提供公共服务
&lt;ul&gt;
&lt;li&gt;在一个 &lt;code&gt;ip&lt;/code&gt; 上使用了很多 &lt;code&gt;token&lt;/code&gt; 容易被判定为异常行为&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;使用 &lt;code&gt;Serverless&lt;/code&gt; 服务
&lt;ul&gt;
&lt;li&gt;由于 &lt;code&gt;Serverless&lt;/code&gt; 服务的 &lt;code&gt;ip&lt;/code&gt; 不固定，所以很容易被判定为异常行为&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;用于盈利项目
&lt;ul&gt;
&lt;li&gt;请求量过大，容易被判定为异常行为&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;请不要尝试上述任何一种不建议的方式，否则可能会导致 &lt;code&gt;GitHub&lt;/code&gt; &lt;code&gt;Copilot&lt;/code&gt; 账号，甚至 &lt;code&gt;GitHub&lt;/code&gt; 账号被封禁。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;部署服务&#34;&gt;部署服务&lt;/h3&gt;
&lt;p&gt;可以部署到本地电脑，也可以部署到 &lt;code&gt;vps&lt;/code&gt;，这里以 &lt;code&gt;vps&lt;/code&gt; 为例。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir -p /opt/cogpt &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; cd /opt/cogpt &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; vim docker-compose.yml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;粘贴下面内容&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;version&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;3&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;services&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;cogpt-api&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;geniucker/cogpt:latest&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;environment&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;HOST=0.0.0.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;ports&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;8080&lt;/span&gt;:&lt;span style=&#34;color:#ae81ff&#34;&gt;8080&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;volumes&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;./db:/app/db&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;./log:/app/log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;restart&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;unless-stopped&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;container_name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;cogpt-api&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;完成后执行 &lt;code&gt;docker-compose up -d&lt;/code&gt; 启动服务。部署完成后打开对应的页面端口会出现 &lt;code&gt;Hi, it&#39;s CoGPT!&lt;/code&gt; 代表服务运行成功。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 &lt;strong&gt;注意：如果在 &lt;code&gt;vps&lt;/code&gt; 部署，需要反向代理并配置域名，如果使用 &lt;code&gt;http&lt;/code&gt; 访问 &lt;code&gt;API&lt;/code&gt; ，而 &lt;code&gt;web&lt;/code&gt; 页面使用 &lt;code&gt;https&lt;/code&gt;，会因为不一致返回错误。&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;获取-token&#34;&gt;获取 token&lt;/h3&gt;
&lt;p&gt;部署完成后需要获取 &lt;code&gt;token&lt;/code&gt; ，在 &lt;a href=&#34;https://github.com/Geniucker/CoGPT/releases&#34;&gt;Release&lt;/a&gt; 页面下载对应的版本，解压压缩包，之后运行 &lt;code&gt;cogpt-get-apptoken&lt;/code&gt; 文件，终端会提示打开对应的页面，填入对应的代码，这时只需要登录有 &lt;code&gt;copilot&lt;/code&gt; 使用权限的 &lt;code&gt;Github&lt;/code&gt; 账号授权，随后终端会返回对应的 &lt;code&gt;token&lt;/code&gt;，保存 &lt;code&gt;token&lt;/code&gt;，可以多生成几个轮询使用。&lt;/p&gt;
&lt;h2 id=&#34;部署-chatgptnextweb&#34;&gt;部署 ChatGPTNextWeb&lt;/h2&gt;
&lt;p&gt;这里的部署非常简单，直接使用项目的 &lt;code&gt;vercel&lt;/code&gt; 一键部署，如果想随时保持更新，首先 &lt;code&gt;fork&lt;/code&gt; 官方的项目，在 &lt;code&gt;vercel&lt;/code&gt; 选择自己 &lt;code&gt;fork&lt;/code&gt; 的仓库即可，随后在 &lt;code&gt;Actions&lt;/code&gt; 页面启用 &lt;code&gt;Workflows&lt;/code&gt;，并启用 &lt;code&gt;Upstream Sync Action&lt;/code&gt;，启用之后即可开启每小时定时自动更新。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;部署的时候务必添加以下几个环境变量：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;CODE:yourpassword &lt;span style=&#34;color:#75715e&#34;&gt;# 务必设置强密码，否则会被爆破&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;OPENAI_API_KEY:token1,token2,token3 &lt;span style=&#34;color:#75715e&#34;&gt;# 刚刚获取的 token，可以用英文逗号分隔多个 key(此项为必须)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;BASE_URL:https://cogpt.yourdomain.com &lt;span style=&#34;color:#75715e&#34;&gt;# 反向代理的域名，如果不使用 https 会出现错误&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;参考文章&#34;&gt;参考文章&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.geniucker.top/2024/01/26/%E9%80%9A%E8%BF%87-GitHub-Copilot-%E5%85%8D%E8%B4%B9%E4%BD%BF%E7%94%A8-gpt-4/#%E4%BD%BF%E7%94%A8&#34;&gt;CoGPT 作者博客&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/Geniucker/CoGPT&#34;&gt;CoGPT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/README_CN.md&#34;&gt;NextChat&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
- http://localhost:1313/posts/cogpt/ - Tom Almighty</description>
        </item>
    
    
    
        <item>
        <title>自建DNS解锁Netflix</title>
        <link>http://localhost:1313/posts/netfli-dns/</link>
        <pubDate>Sun, 03 Mar 2024 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/posts/netfli-dns/</guid>
        <description>Tom&#39;s Blog http://localhost:1313/posts/netfli-dns/ -&lt;blockquote&gt;
&lt;p&gt;通过 &lt;code&gt;DNSmasq&lt;/code&gt; 和一台已解锁 &lt;code&gt;Netflix&lt;/code&gt; 的服务器，将其余服务器全部解锁 &lt;code&gt;Netflix&lt;/code&gt; 。&lt;/p&gt;
&lt;p&gt;原理：使用 &lt;a href=&#34;http://thekelleys.org.uk/dnsmasq/doc.html&#34;&gt;Dnsmasq&lt;/a&gt; 的DNS将网站解析劫持到 &lt;a href=&#34;https://github.com/dlundquist/sniproxy&#34;&gt;SNIproxy&lt;/a&gt; 反向代理的页面上。&lt;/p&gt;
&lt;p&gt;特性：脚本默认解锁&lt;code&gt;Netflix Hulu HBO&lt;/code&gt; 等，如需增减域名，请编辑下面文件：
&lt;code&gt;/etc/dnsmasq.d/custom_netflix.conf&lt;/code&gt;
&lt;code&gt;/etc/sniproxy.conf&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;项目地址：&lt;/strong&gt;&lt;a href=&#34;https://github.com/myxuchangbin/dnsmasq_sniproxy_install&#34;&gt;Github&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;安装&#34;&gt;安装&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;前提需求：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一台解锁 &lt;code&gt;Netflix&lt;/code&gt; 的服务器&lt;/li&gt;
&lt;li&gt;放行 &lt;code&gt;53&lt;/code&gt;、&lt;code&gt;80&lt;/code&gt;、&lt;code&gt;443&lt;/code&gt;端口&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;快速安装：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget --no-check-certificate -O dnsmasq_sniproxy.sh https://raw.githubusercontent.com/myxuchangbin/dnsmasq_sniproxy_install/master/dnsmasq_sniproxy.sh &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; bash dnsmasq_sniproxy.sh -f
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;卸载：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget --no-check-certificate -O dnsmasq_sniproxy.sh https://raw.githubusercontent.com/myxuchangbin/dnsmasq_sniproxy_install/master/dnsmasq_sniproxy.sh &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; bash dnsmasq_sniproxy.sh -u
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;systemd-resolve-服务占用-53-端口解决方法&#34;&gt;systemd-resolve 服务占用 53 端口解决方法&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl stop systemd-resolved
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vim /etc/systemd/resolved.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;按照下面说明修改文件&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Resolve&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;DNS&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;8.8.8.8 1.1.1.1 &lt;span style=&#34;color:#75715e&#34;&gt;#取消注释，增加dns&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#FallbackDNS=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#Domains=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#LLMNR=no&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#MulticastDNS=no&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#DNSSEC=no&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#Cache=yes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;DNSStubListener&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;no  &lt;span style=&#34;color:#75715e&#34;&gt;#取消注释，把yes改为no&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;重启服务：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ln -sf /run/systemd/resolve/resolv.conf /etc/resolv.conf
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl restart systemd-resolved.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;限制访问&#34;&gt;限制访问&lt;/h2&gt;
&lt;p&gt;通过 iptables 放行白名单 IP 访问 &lt;code&gt;53&lt;/code&gt; 端口&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;iptables -I INPUT -p tcp --dport &lt;span style=&#34;color:#ae81ff&#34;&gt;53&lt;/span&gt; -j DROP
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;iptables -I INPUT -s 1.1.1.1 -p tcp --dport &lt;span style=&#34;color:#ae81ff&#34;&gt;53&lt;/span&gt; -j ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;-参考文章&#34;&gt;📎 参考文章&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.passall.us/archives/627&#34;&gt;Ypkin’s Blog&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
- http://localhost:1313/posts/netfli-dns/ - Tom Almighty</description>
        </item>
    
    
    
        <item>
        <title>甲骨文相关</title>
        <link>http://localhost:1313/posts/oracle/</link>
        <pubDate>Tue, 27 Feb 2024 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/posts/oracle/</guid>
        <description>Tom&#39;s Blog http://localhost:1313/posts/oracle/ -&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;甲骨文没法直接重装系统，因此这里记录一下甲骨文相关问题。&lt;/p&gt;
&lt;h2 id=&#34;开启-root-登录&#34;&gt;开启 root 登录&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vim /etc/ssh/sshd_config
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;PermitRootLogin yes
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;PasswordAuthentication yes
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl restart sshd.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;卸载相关程序&#34;&gt;卸载相关程序&lt;/h2&gt;
&lt;h3 id=&#34;pcbind&#34;&gt;pcbind&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl stop rpcbind
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl stop rpcbind.socket
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl disable rpcbind
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl disable rpcbind.socket 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;oracle-cloud-agent&#34;&gt;oracle-cloud-agent&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl stop oracle-cloud-agent
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl disable oracle-cloud-agent
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl stop oracle-cloud-agent-updater
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl disable oracle-cloud-agent-updater
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;防火墙相关&#34;&gt;防火墙相关&lt;/h2&gt;
&lt;h3 id=&#34;停止-firewall-并禁止开机启动&#34;&gt;停止 &lt;code&gt;firewall&lt;/code&gt; 并禁止开机启动&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl stop firewalld.service
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl disable firewalld.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ubuntu&#34;&gt;ubuntu&lt;/h3&gt;
&lt;p&gt;开放所有端口&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;iptables -P INPUT ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;iptables -P FORWARD ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;iptables -P OUTPUT ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;iptables -F
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;清除 &lt;code&gt;iptables&lt;/code&gt; 规则&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;apt-get purge netfilter-persistent
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;reboot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;-参考&#34;&gt;📎 参考&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.laoda.de/archives/oracle-always-free-vps&#34;&gt;博客&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
- http://localhost:1313/posts/oracle/ - Tom Almighty</description>
        </item>
    
    
    
        <item>
        <title>部署Plex并挂载Alist</title>
        <link>http://localhost:1313/posts/plex/</link>
        <pubDate>Fri, 09 Feb 2024 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/posts/plex/</guid>
        <description>Tom&#39;s Blog http://localhost:1313/posts/plex/ -&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;由于最近 &lt;code&gt;Netflix&lt;/code&gt; 清退了一大批低价区用户，并且不退款，需要与银行争议，就开了一个月的土耳其区，然而土耳其第一个月并不能用土耳其之外的 &lt;code&gt;IP&lt;/code&gt; 观看，白白浪费一个月，虽然最近尼日利亚的低价已经超过了巴基斯坦，但还是决定放弃了，花钱找罪受，不如买个 &lt;code&gt;Emby&lt;/code&gt; 。
之后在网上看到可以通过服务器部署 &lt;code&gt;Plex Media Server&lt;/code&gt; ，将 &lt;code&gt;Alist&lt;/code&gt; 挂载到服务器，&lt;code&gt;Plex&lt;/code&gt; 添加 &lt;code&gt;Alist&lt;/code&gt; 目录，然后 &lt;code&gt;infuse&lt;/code&gt; 连接 &lt;code&gt;Plex&lt;/code&gt; ，这样可以实现刮削，并且全平台同步，还可以搭配 &lt;code&gt;Aria2&lt;/code&gt; 下载自动上传网盘，达到良好的观影效果。&lt;/p&gt;
&lt;h2 id=&#34;一可执行程序部署&#34;&gt;一、可执行程序部署&lt;/h2&gt;
&lt;h3 id=&#34;1-部署-plex&#34;&gt;1. 部署 Plex&lt;/h3&gt;
&lt;p&gt;部署可以通过可执行程序，也可以通过 &lt;code&gt;docker&lt;/code&gt; ，如果想挂载 alist ，记得和 &lt;code&gt;alist&lt;/code&gt; 程序安装在同一台服务器。&lt;/p&gt;
&lt;p&gt;部署程序&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# centos&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;yum -y update &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; yum -y install
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget https://downloads.plex.tv/plex-media-server-new/1.32.8.7639-fb6452ebf/redhat/plexmediaserver-1.32.8.7639-fb6452ebf.x86_64.rpm
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;yum install plexmediaserver*.rpm
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Debian/Ubuntu系统&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;apt-get -y update &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; apt-get -y upgrade
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget https://downloads.plex.tv/plex-media-server-new/1.32.8.7639-fb6452ebf/debian/plexmediaserver_1.32.8.7639-fb6452ebf_amd64.deb
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dpkg -i plexmediaserver*.deb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;设置开机自启&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl enable plexmediaserver.service
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl start plexmediaserver.service
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 状态查询&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl status plexmediaserver.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;安装完成可以通过 &lt;a href=&#34;http://ip%E5%9C%B0%E5%9D%80:32400&#34;&gt;http://ip地址:32400&lt;/a&gt; 进入后台管理，如果运行正常却无法打开，可能是防火墙问题，命令如下，也可以宝塔面板直接放行。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#CentOS 7&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl stop firewalld.service
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl disable firewalld.service
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#其它系统&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;iptables -I INPUT -p tcp --dport &lt;span style=&#34;color:#ae81ff&#34;&gt;32400&lt;/span&gt; -j ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service iptables save                              
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service iptables restart
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-后台设置&#34;&gt;2. 后台设置&lt;/h3&gt;
&lt;p&gt;安装完成后进入后台会发现无法找到服务器，这是因为 &lt;code&gt;Plex&lt;/code&gt; 安全策略，第一次登录只允许本地 &lt;code&gt;IP&lt;/code&gt; 可以通过端口转发或隧道转发解决。&lt;/p&gt;
&lt;h4 id=&#34;端口转发&#34;&gt;端口转发&lt;/h4&gt;
&lt;p&gt;Windows 打开 &lt;code&gt;Power shell&lt;/code&gt;，然后通过下列命令连接服务器：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ssh root@服务器IP -L 8888:localhost:32400
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;浏览器打开：&lt;code&gt;http://localhost:8888/web&lt;/code&gt; 就可以正常设置。&lt;/p&gt;
&lt;h4 id=&#34;隧道转发&#34;&gt;隧道转发&lt;/h4&gt;
&lt;p&gt;这里以 &lt;code&gt;FinalShell&lt;/code&gt; 为例，ssh 连接设置中添加如下隧道&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://pic.imgdb.cn/item/65f012c79f345e8d03f8c367.webp&#34; alt=&#34;隧道示例&#34;&gt;&lt;/p&gt;
&lt;p&gt;连接服务器，浏览器打开 &lt;code&gt;http://localhost:8888/web&lt;/code&gt; 即可。&lt;/p&gt;
&lt;h3 id=&#34;3-卸载&#34;&gt;3. 卸载&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# centos&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rpm -e plexmediaserver
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rm -rf/var/lib/plexmediaserver/
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;userdel plex
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ubuntu/debian&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dpkg -r plexmediaserver
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rm -rf /var/lib/plexmediaserver/Library/Application Support/Plex Media Server/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;二docker-部署&#34;&gt;二、Docker 部署&lt;/h2&gt;
&lt;h3 id=&#34;1-安装-docker-和-docker-compose&#34;&gt;1. 安装 docker 和 docker-compose&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 卸载旧版本&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo apt-get remove docker &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;             docker-engine &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;             docker.io
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -fsSL get.docker.com -o get-docker.sh
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 启动并设置开机自启&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo systemctl enable docker
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo systemctl start docker
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 安装 docker-compose&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo curl -L &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://github.com/docker/compose/releases/download/1.29.1/docker-compose-&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;uname -s&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;uname -m&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; -o /usr/local/bin/docker-compose
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo chmod +x /usr/local/bin/docker-compose
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 可用以下命令测试安装&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;docker-compose --version
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-创建目录&#34;&gt;2. 创建目录&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo mkdir /plex
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo mkdir /plex/&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;data,tv,movies&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd /plex
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vim ./docker-compose.yml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;粘贴下列命令&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;services&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;plex&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;lscr.io/linuxserver/plex:latest&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;container_name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;plex&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;network_mode&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;host&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;environment&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;PUID=1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;PGID=1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;TZ=Asia/Shanghai&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;VERSION=docker&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;PLEX_CLAIM=&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;#optional&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;volumes&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;/plex/data:/config &lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# Library 目录，可能变得很大&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;/plex/tv:/tv&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;/plex/movies:/movies&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# - /CloudNAS:/CloudNAS    # 这是将 Clouddrive 的挂载目录映射到 plex 容器中，也可以更换            &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;restart&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;unless-stopped&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;PUID&lt;/code&gt;和&lt;code&gt;PGID&lt;/code&gt;用于配置容器内进程的&lt;code&gt;UID&lt;/code&gt;和&lt;code&gt;GID&lt;/code&gt;，全都设置为 &lt;code&gt;0&lt;/code&gt; 表示以&lt;code&gt;root&lt;/code&gt;用户运行，如果你这里不是很明白的话可以无脑设置为 &lt;code&gt;0&lt;/code&gt; 以避免部分权限问题&lt;/li&gt;
&lt;li&gt;&lt;code&gt;PLEX_CLAIM&lt;/code&gt;环境变量用于认证自己的服务器，可以从 &lt;strong&gt;&lt;a href=&#34;https://www.plex.tv/claim/&#34;&gt;这里&lt;/a&gt;&lt;/strong&gt; 获取(注意需要可用的plex账号)， 另外 &lt;code&gt;claim&lt;/code&gt; 的有效期一般只有 &lt;strong&gt;4&lt;/strong&gt; 分钟 ，如果服务器网络不佳，建议先通过执行&lt;code&gt;docker-compose pull&lt;/code&gt;拉取镜像之后再获取，防止过期(虽说过期后再重新 claim 也行)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-启动容器&#34;&gt;3. 启动容器&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;docker-compose up -d
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;浏览器打开 &lt;code&gt;http://IP地址:32400/web&lt;/code&gt; 进入后台，出现无法找到服务器同样需要通过映射本地端口。&lt;/p&gt;
&lt;h2 id=&#34;三挂载网盘&#34;&gt;三、挂载网盘&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;💡 挂载程序有很多，这里以 &lt;code&gt;rclone&lt;/code&gt; 和 &lt;code&gt;cloudrive2&lt;/code&gt;（推荐）为例。&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;1-rclone&#34;&gt;1. rclone&lt;/h3&gt;
&lt;p&gt;首先安装依赖和程序&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 安装依赖&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;apt-get install fuse3
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 安装 rclone&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl https://rclone.org/install.sh | sudo bash
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;接下来设置 rclone，终端输入 &lt;code&gt;rclone config&lt;/code&gt; ，随后输入 &lt;code&gt;n&lt;/code&gt; 添加远程设备，这里接下来的代码直接参考别人的：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 选择新远程&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;No remotes found, make a new one?
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;n&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; New remote
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;s&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; Set configuration password
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;q&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; Quit config
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;n/s/q&amp;gt; n &lt;span style=&#34;color:#75715e&#34;&gt;#这里选择n&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 设置名字&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;name&amp;gt; remote
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Type of storage to configure.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Choose a number from below, or type in your own value
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;snip&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;XX / WebDAV
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;\ &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;webdav&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;snip&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Storage&amp;gt; webdav &lt;span style=&#34;color:#75715e&#34;&gt;#这里输入远程的名字，之后就是你的远程名称&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 设置远程地址url http://your_alist_ip:port/dav&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;URL of http host to connect to
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Choose a number from below, or type in your own value
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; / Connect to example.com
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;\ &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://example.com&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;url&amp;gt; http://127.0.0.1:5244/dav &lt;span style=&#34;color:#75715e&#34;&gt;#这里设置alist的地址和端口，后面要带dav，这是alist要求的&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 这里选6就可以了，1-5都不是我们使用的&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Name of the WebDAV site/service/software you are using
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Choose a number from below, or type in your own value
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; / Fastmail Files
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;\ &lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;fastmail&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; / Nextcloud
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;\ &lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;nextcloud&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; / Owncloud
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;\ &lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;owncloud&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt; / Sharepoint Online, authenticated by Microsoft account
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;\ &lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;sharepoint&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt; / Sharepoint with NTLM authentication, usually self-hosted or on-premises
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;\ &lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;sharepoint-ntlm&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt; / Other site/service or software
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;\ &lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;other&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vendor&amp;gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 设置远程账号&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;User name
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;user&amp;gt; admin &lt;span style=&#34;color:#75715e&#34;&gt;#这里是你alist的密码&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 设置远程密码&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Password.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;y&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; Yes type in my own password
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;g&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; Generate random password
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;n&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; No leave this optional password blank
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;y/g/n&amp;gt; y &lt;span style=&#34;color:#75715e&#34;&gt;#这里输入y&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Enter the password: &lt;span style=&#34;color:#75715e&#34;&gt;#这输入你的密码，密码是看不到的&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;password:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Confirm the password: &lt;span style=&#34;color:#75715e&#34;&gt;#再次输入你的密码&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;password:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 这里直接回车即可&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Bearer token instead of user/pass &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;e.g. a Macaroon&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bearer_token&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Remote config
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 这里可能会问你是默认还是高级，选择默认即可&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 你的远程信息&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--------------------
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;remote&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;type &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; webdav
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;url &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; http://127.0.0.1:5244/dav
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vendor &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Other
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;user &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; admin
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;pass &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; *** ENCRYPTED ***
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--------------------
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 确认&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;y&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; Yes this is OK
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; Edit this remote
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;d&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; Delete this remote
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;y/e/d&amp;gt; y &lt;span style=&#34;color:#75715e&#34;&gt;#输入y即可，&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 最后按q退出设置&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;连接后需要挂载到本地，输入如下命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 最后的 daemon 是后台挂载&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rclone mount 远程网盘名字:/ /本地挂载地址 --cache-dir /tmp --allow-other --vfs-cache-mode writes --allow-non-empty --daemon
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这样虽然后台挂载了，但是每次重启都需要重新运行，我们可以设置一个开机自启的文件：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#创建service文件&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vim /usr/lib/systemd/system/rclone.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;输入如下内容：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Unit&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Description&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;rclone 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Service&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;User&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;root 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ExecStart&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/usr/bin/rclone mount 远程网盘名字:/ /本地挂载目录 --cache-dir /tmp --allow-other --vfs-cache-mode writes --allow-non-empty --daemon
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Install&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;WantedBy&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;multi-user.target
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;重载配置文件，并设置开机自启：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# reload守护进程&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl daemon-reload
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 设置service文件自启&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl enable rclone.service
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 启动service文件&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl start rclone.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-clouddrive2&#34;&gt;2. Clouddrive2&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;rclone&lt;/code&gt; 需要命令行操作，并且使用过程中出现了一些问题，这里推荐另一种有 &lt;code&gt;web&lt;/code&gt; 界面的挂载方式 &lt;code&gt;clouddrive2&lt;/code&gt;，官网地址如下：&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.clouddrive2.com/&#34;&gt;CloudDrive - Home&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;安装非常简单，直接使用别人做好的一键脚本，通过 &lt;code&gt;docker&lt;/code&gt; 安装，地址如下：&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/sublaim/clouddrive2&#34;&gt;https://github.com/sublaim/clouddrive2&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;安装命令&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 国内加速(推荐)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -fsSL &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://mirror.ghproxy.com/https://raw.githubusercontent.com/sublaim/clouddrive2/main/cd2.sh&amp;#34;&lt;/span&gt; | bash -s install mirror
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 代理&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -fsSL &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://raw.githubusercontent.com/sublaim/clouddrive2/main/cd2.sh&amp;#34;&lt;/span&gt; | bash -s install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;卸载命令&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 国内加速(推荐)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -fsSL &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://mirror.ghproxy.com/https://raw.githubusercontent.com/sublaim/clouddrive2/main/cd2.sh&amp;#34;&lt;/span&gt; | bash -s uninstall mirror
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 代理&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -fsSL &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://raw.githubusercontent.com/sublaim/clouddrive2/main/cd2.sh&amp;#34;&lt;/span&gt; | bash -s uninstall
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;💡 &lt;strong&gt;注意：如果 &lt;code&gt;plex&lt;/code&gt; 是通过 &lt;code&gt;docker&lt;/code&gt; 安装的，需要添加 &lt;code&gt;-v&lt;/code&gt; 参数，将 &lt;code&gt;clouddrive2&lt;/code&gt; 映射的目录映射到 &lt;code&gt;plex&lt;/code&gt; 中。&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;设置后台。安装完成后终端会输出访问地址，通过 &lt;code&gt;http://ip:19798&lt;/code&gt; 就可以访问。&lt;/li&gt;
&lt;li&gt;进入后首先注册账号，然后点击云朵图标添加网盘，选择 &lt;code&gt;webdav&lt;/code&gt; , 设置地址如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://pic.imgdb.cn/item/65f012fa9f345e8d03f96f02.webp&#34; alt=&#34;webdav地址&#34;&gt;&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;挂载 &lt;code&gt;webdav&lt;/code&gt; 到本机，先点击右上角的电脑图标，然后挂载到 &lt;code&gt;/CloudNAS&lt;/code&gt; 目录下，可以修改一下权限。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://pic.imgdb.cn/item/65f013389f345e8d03fa4442.webp&#34; alt=&#34;挂载地址&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 &lt;strong&gt;注意：clouddrive 免费用户只可以添加两个网盘，挂载一个网盘，但我们可以首先通过 alist 挂载所有网盘，再将 alist 通过 webdav 挂载。&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这样所有的安装都结束了，我们可以在 &lt;code&gt;plex&lt;/code&gt; 中设置媒体文件夹，刮削完后可以在移动端通过 &lt;code&gt;infuse&lt;/code&gt;、&lt;code&gt;vidhub&lt;/code&gt; 等应用挂载 &lt;code&gt;plex&lt;/code&gt;，这样就能拥有一个资源丰富界面精美的媒体库。&lt;/p&gt;
&lt;h2 id=&#34;参考&#34;&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://dockerdocs.cn/compose/install/&#34;&gt;docker compose 安装&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://yeasy.gitbook.io/docker_practice/install/ubuntu&#34;&gt;docker 从入门到实践&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.moerats.com/archives/464/&#34;&gt;Rat’s Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.mokeedev.com/2022/05/549/&#34;&gt;魔趣博客&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.hinatarin.com/2021/04/21/set-up-your-own-media-server-with-plex-and-docker/index.html&#34;&gt;Rin’s Home&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://yroot.site/?p=276&#34;&gt;博客&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://willxup.top/archives/deploy-alist-and-rclone&#34;&gt;Willxup&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
- http://localhost:1313/posts/plex/ - Tom Almighty</description>
        </item>
    
    
    
        <item>
        <title>Alist部署</title>
        <link>http://localhost:1313/posts/alist/</link>
        <pubDate>Thu, 08 Feb 2024 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/posts/alist/</guid>
        <description>Tom&#39;s Blog http://localhost:1313/posts/alist/ -&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;目前很多人通过网盘分享影视资源，如阿里云盘、115网盘等，同时还有微软的 E5 管理员账号，一个账号就有 5T 空间，用来做存储很不错，但是众多网盘分享文件很不方便，网盘自己的页面看视频也比较简陋，这个时候我们可以通过目录列表整合各种网盘，如以前的  &lt;code&gt;oneindex、olaindex&lt;/code&gt;，最近常用的是 Alist ，支持网盘众多，部署方便。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Alist 是一个支持多种存储，支持网页浏览和 WebDAV 的文件列表程序，由 gin 和 Solidjs 驱动，程序开源地址以及文档如下：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/alist-org/alist&#34;&gt;Github&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://alist.nn.ci/zh/&#34;&gt;文档&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;一官方-alist&#34;&gt;一、官方 Alist&lt;/h2&gt;
&lt;h3 id=&#34;1-安装&#34;&gt;1. 安装&lt;/h3&gt;
&lt;p&gt;安装非常简单，直接使用官方的一键脚本&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 安装&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -fsSL &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://alist.nn.ci/v3.sh&amp;#34;&lt;/span&gt; | bash -s install
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 更新&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -fsSL &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://alist.nn.ci/v3.sh&amp;#34;&lt;/span&gt; | bash -s update
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 卸载&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -fsSL &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://alist.nn.ci/v3.sh&amp;#34;&lt;/span&gt; | bash -s uninstall
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;默认安装在 &lt;code&gt;/opt/alist&lt;/code&gt; 中。自定义安装路径，将安装路径作为第二个参数添加，必须是绝对路径（如果路径以 alist 结尾，则直接安装到给定路径，否则会安装在给定路径 alist 目录下），如 安装到 &lt;code&gt;/root&lt;/code&gt;：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Install&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -fsSL &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://alist.nn.ci/v3.sh&amp;#34;&lt;/span&gt; | bash -s install /root
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# update&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -fsSL &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://alist.nn.ci/v3.sh&amp;#34;&lt;/span&gt; | bash -s update /root
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Uninstall&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -fsSL &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://alist.nn.ci/v3.sh&amp;#34;&lt;/span&gt; | bash -s uninstall /root
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-获取密码&#34;&gt;2. 获取密码&lt;/h3&gt;
&lt;p&gt;随机生成一个密码&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./alist admin random
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;手动设置一个密码,&lt;code&gt;NEW_PASSWORD&lt;/code&gt;是指你需要设置的密码&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./alist admin set NEW_PASSWORD
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;部署的 Alist可以挂载自己的阿里云盘、Onedrive 等，官方文档都有详细介绍，上述安装也都来自官方文档，如果想美化以下界面，可以参考另一篇&lt;a href=&#34;https://www.notion.so/Alist-f50ef25f1c1a4fdebd5f3b53fa830adb?pvs=21&#34;&gt;文章&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;如果想瞬间拥有很多资源，我们可以部署别人整理好的 Alist 镜像。&lt;/p&gt;
&lt;h2 id=&#34;二小雅-alist&#34;&gt;二、小雅 Alist&lt;/h2&gt;
&lt;p&gt;首先列出作者的频道和文档：&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://t.me/xiaoyaliu&#34;&gt;xiaoya Liu&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://xiaoya.it-cxy.top/&#34;&gt;小雅的分类 Alist&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.notion.so/xiaoya-docker-69404af849504fa5bcf9f2dd5ecaa75f?pvs=21&#34;&gt;如何设置xiaoya的docker&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 接下来的教程来自官方文档，部署在 VPS 上，由于家里并没有 NAS 和软路由，也不用电视看，因此记录仅限于电脑手机端观看，如果后续设备变化再更新记录。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;1-安装-dokcer&#34;&gt;1. 安装 Dokcer&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 卸载旧版本&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo apt-get remove docker &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;             docker-engine &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;             &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;docker.io&lt;span style=&#34;color:#f92672&#34;&gt;](&lt;/span&gt;http://docker.io/&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 安装&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -fsSL &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;get.docker.com&lt;span style=&#34;color:#f92672&#34;&gt;](&lt;/span&gt;http://get.docker.com/&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; -o &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;get-docker.sh&lt;span style=&#34;color:#f92672&#34;&gt;](&lt;/span&gt;http://get-docker.sh/&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 启动并设置开机自启&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo systemctl enable docker
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo systemctl start docker
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-安装小雅-alist&#34;&gt;2. 安装小雅 Alist&lt;/h3&gt;
&lt;p&gt;首先获取阿里云盘的三个参数&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;参数必需&lt;/th&gt;
&lt;th&gt;对应文件&lt;/th&gt;
&lt;th&gt;获取地址&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;token&lt;/td&gt;
&lt;td&gt;是&lt;/td&gt;
&lt;td&gt;/etc/xiaoya/mytoken.txt&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://aliyuntoken.vercel.app/&#34;&gt;https://aliyuntoken.vercel.app/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;open token&lt;/td&gt;
&lt;td&gt;是&lt;/td&gt;
&lt;td&gt;/etc/xiaoya/myopentoken.txt&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://alist.nn.ci/zh/guide/drivers/aliyundrive_open.html&#34;&gt;https://alist.nn.ci/zh/guide/drivers/aliyundrive_open.html&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;转存目录 ID&lt;/td&gt;
&lt;td&gt;是&lt;/td&gt;
&lt;td&gt;/etc/xiaoya/temp_transfer_folder_id.txt&lt;/td&gt;
&lt;td&gt;先转存这个&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://www.aliyundrive.com/s/rP9gP3h9asE&#34;&gt;https://www.aliyundrive.com/s/rP9gP3h9asE&lt;/a&gt; 到自己网盘（选择资源盘），然后浏览器打开转存后的目录，浏览器的url&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://www.aliyundrive.com/drive/file/resource/640xxxxxxxxxxxxxxxxxxxca8a&#34;&gt;https://www.aliyundrive.com/drive/file/resource/640xxxxxxxxxxxxxxxxxxxca8a&lt;/a&gt; 最后一串就是，记得这个目录不要删，里面的内容可以定期删除&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;登录&lt;/td&gt;
&lt;td&gt;否&lt;/td&gt;
&lt;td&gt;/etc/xiaoya/guestlogin.txt&lt;/td&gt;
&lt;td&gt;如果目录底下没有可以手动创建一个，里面不需要填写内容&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;密码&lt;/td&gt;
&lt;td&gt;否(如果设置目录下有上一个登录参数，这个就得设置)&lt;/td&gt;
&lt;td&gt;/etc/xiaoya/guestpass.txt&lt;/td&gt;
&lt;td&gt;可以手动创建，里面填写用户的密码，但是尽量不要填写符号&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 获取到前三个参数就可以，如果不想别人蹭你的网盘观看，就可以设置必须登录观看，登录的账号是 &lt;code&gt;dav&lt;/code&gt; ，密码就是设置的密码。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;接下来安装，使用一键脚本：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;**bash -c &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;curl http://docker.xiaoya.pro/update_new.sh&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# host 模式**&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bash -c &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;curl &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;http://docker.xiaoya.pro/update_new.sh&lt;span style=&#34;color:#f92672&#34;&gt;](&lt;/span&gt;http://docker.xiaoya.pro/update_new.sh&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;)&amp;#34;&lt;/span&gt; -s host
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;安装过程中填写三个参数，等待完成就可以了，服务器记得放行 5678 端口，后续如果需要反向代理也是这个端口。完成后可以通过 &lt;a href=&#34;http://ip:5678&#34;&gt;http://ip:5678&lt;/a&gt; 进入，第一次进入会比较慢，如果很久没加载到存储，可以手动重启一下容器：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;docker restart xiaoya
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 更新也是这个命令，所以可以将这个命令设置定时任务，每天定时重启&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;💡 &lt;strong&gt;不建议使用 infuse 等挂载扫描，可能会触发风控。&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;接下来你可以将小雅 &lt;code&gt;Alist&lt;/code&gt; 挂载到自己的 &lt;code&gt;Alist&lt;/code&gt; 上，挂载时地址填写本机地址 &lt;a href=&#34;http://127.0.0.1:5678&#34;&gt;http://127.0.0.1:5678&lt;/a&gt; 就可以。&lt;/p&gt;
&lt;p&gt;观看视频时，是先将视频转存到自己的目录，也就是安装时的那个文件夹，因此确保网盘有足够的容量，并定期清理，或者可以通过下面的小雅助手容器定时更新、签到、清理文件夹。此助手脚本包括几个模式，如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;模式0&lt;/strong&gt;：每天自动清理一次。如果系统重启需要手动重新运行或把命令加入系统启动。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bash -c &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;curl -s https://xiaoyahelper.zengge99.eu.org/aliyun_clear.sh | tail -n +2&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; -s &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; -tg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;模式1&lt;/strong&gt;：一次性清理，一般用于测试效果。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bash -c &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;curl -s https://xiaoyahelper.zengge99.eu.org/aliyun_clear.sh | tail -n +2&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; -s &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; -tg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;模式3：&lt;strong&gt;创建一个名为 xiaoyakeeper 的docker&lt;/strong&gt;定时运行小雅转存清理&lt;/strong&gt;并升级小雅镜像&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bash -c &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;curl -s https://xiaoyahelper.zengge99.eu.org/aliyun_clear.sh | tail -n +2&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; -s &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; -tg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;**模式5：**与模式3的区别是实时清理，&lt;strong&gt;只要产生了播放缓存一分钟内立即清理&lt;/strong&gt;。签到和定时升级同模式3&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bash -c &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;curl -s https://xiaoyahelper.zengge99.eu.org/aliyun_clear.sh | tail -n +2&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; -s &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt; -tg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;以上所有模式加上 &lt;strong&gt;&lt;code&gt;-tg&lt;/code&gt;&lt;/strong&gt; 功能均可绑定消息推送的TG账号，只有第一次运行需要加上 &lt;strong&gt;&lt;code&gt;-tg&lt;/code&gt;&lt;/strong&gt; 参数，&lt;strong&gt;可以不加tg参数&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;-参考文章&#34;&gt;📎 参考文章&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.cnblogs.com/xyztank/articles/17944085&#34;&gt;博客&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.notion.so/xiaoya-docker-69404af849504fa5bcf9f2dd5ecaa75f?pvs=21&#34;&gt;小雅文档&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
- http://localhost:1313/posts/alist/ - Tom Almighty</description>
        </item>
    
    
    
        <item>
        <title>本科和研究生专业目录</title>
        <link>http://localhost:1313/posts/zhuanyemulu/</link>
        <pubDate>Tue, 06 Feb 2024 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/posts/zhuanyemulu/</guid>
        <description>Tom&#39;s Blog http://localhost:1313/posts/zhuanyemulu/ -&lt;p&gt;最近对于所学专业的专业代码一直有所疑惑，因此搜索后得知本科的专业设置和研究生设置有所不同，教育部也对本科和研究生分别发布了对应的专业目录及相关管理办法，这里记录一下。&lt;/p&gt;
&lt;p&gt;本科专业目录目前最新的是2022版，是在2012年版本的基础上完成。教育部通知链接如下：&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.moe.gov.cn/srcsite/A08/moe_1034/s4930/202304/t20230419_1056224.html&#34;&gt;教育部关于公布2022年度普通高等学校本科专业备案和审批结果的通知 - 中华人民共和国教育部政府门户网站&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;研究生专业目录最新也是2022版，于2023年开始实施，教育部通知链接如下：&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.moe.gov.cn/srcsite/A22/moe_833/202209/t20220914_660828.html&#34;&gt;国务院学位委员会 教育部关于印发《研究生教育学科专业目录（2022年）》《研究生教育学科专业目录管理办法》的通知 - 中华人民共和国教育部政府门户网站&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;具体目录文件如下：&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;本科专业目录&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;研究生专业目录&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
- http://localhost:1313/posts/zhuanyemulu/ - Tom Almighty</description>
        </item>
    
    
  </channel>
</rss> 