---
categories: 上网
date: 2022-06-07
featured_image: https://pic.imgdb.cn/item/65dc4c5c9f345e8d0318832b.webp
slug: windows-network
description: 解除网络限制简介。
tags: ["Windows"]
title: Windows 解除网络限制
draft: true
---
## **原理解释**

了解一下原理有助于软件的使用。不想看也可以直接跳到下一节。以下是非专业人士的理解，如有错误请指出。

首先需要知道，我们所有的网络活动都是进行数据交换，这些数据存储在服务器上，服务器可以理解为配置很高的电脑。我们浏览网页或者观看视频的过程就是向存储这些内容的服务器发起请求，然后服务器给我们返回内容，就像你要在图书馆看书，告诉管理员我要看哪一本书，然后管理员找到这本书交给你。只是这个过程再稍微复杂一点，也就是我们找书给书的过程需要遵循一定的准则，也就是网络通讯的协议。
目前网络通讯的主要协议为 `TCP/IP` 协议。为了能让我们能准确拿到想要的东西，所有的计算机设备都会分配一个唯一的IP地址，也就是说IP地址和我们的设备绑定，IP的形式为32位的二进制数，通常被分割为4个“8位二进制数”，用点分十进制表示为 `a.b.c.d` 的形式，abcd的取值为 `0-255` 间的十进制整数，以上内容为 `IPv4` 地址，由于目前IPv4地址快不够用了，所以正在大力发展 `IPv6`，地址数更多。
IP地址分为公有地址和私有地址，像我们平时路由器使用的地址如 `192.168.0.0` 就属于私有地址，也就是我们可以用这些地址组件内网，不能从互联网直接访问。留出的私有地址如下：

```bash
A类 10.0.0.0--10.255.255.255
 
B类 172.16.0.0--172.31.255.255
 
C类 192.168.0.0--192.168.255.255
```

当我们访问网页时不可能每次输入一大串数字，因此我们通过一些好记的名称，指代IP地址，当我们输入这些名称时，就自动访问对应的IP，这就是域名。

比如当我们访问 `www.baidu.com`，实际上我们访问的是 `220.181.38.148`。那么我们怎么才能知道那个域名对应的是那个主机呢，这时候就需要一台专门的服务器做这个事情。也就是说你告诉管理员你要看一本书，这时候有一个人我们叫他小明，他告诉管理员你要看的书在哪个书架，管理员知道后再把书拿给你，完成这个流程的服务器叫域名服务器（Domain Name Server，DNS）。

那么知道这些后我们就能了解 `GFW` 防火墙简单的阻断方法，比如你说你要看越狱类的书，这时候小明一看你要看这种书？不行，直接给你拦下，或者给告诉管理员一个错误的信息，那么你就看不到你想要的书了。还有一种情况就是小明记住了哪一个书架的书不能看，也就是哪一个服务器上的内容不可以访问，那么发现你要看的书在这里，对不起，也不行。

那么如何解决呢？防火墙不可能不让你访问所有的服务器内容。这个时候我们可以找一个中间人，即让一台在防火墙外，不在防火墙名单上的服务器访问我们想要的内容，然后我们访问这台服务器，就可以拿到我们想要的东西。这个服务器就是一个代理人的角色，这也就是很多软件里会有的 `Proxy` 设置，即代理。

虽说有这种方法，但是如果小明能看到最后书的内容，那还是会被拦下来，因此我们就要对这些信息进行加密，这样他只知道你要看书，并且看的书不在黑名单书架上，内容也不清楚，那么他只能先给你。

因此就衍生出各种加密方法手段，这些加密方法都要有一定的载体，就像我们把书放在一个盒子里，不同的盒子都可以装书，但是我们的锁不一样。

总结一下解除限制的原理：以我们访问 `YouTube` 为例，首先我们本地通过加密发往防火墙外一台服务器，服务器进行解密，然后访问谷歌的服务器，将得到的视频进行加密，最后通过防火墙，我们本地再进行解密。所以我们本地安装的软件只是加密解密的载体，还需要我们的服务器信息才能正常使用，每一台服务器的信息称为一个节点（Node），因为有些服务器会根据 `IP` 地址返回不同的内容，比如首页的热门视频等，或者有些网站也会设置防火墙对 `IP` 地址进行限制，某些国家的 `IP` 不能访问因此不同的节点访问到的内容也是不一样的。

目前有很多核心如 `Clash`, `v2ray(xray)`，基于这些核心很多开发者做出了图形界面方便我们操作，这些软件都是开源免费的，但真正核心的是服务器节点，有一些公益的，但是不稳定，主要还是收费的节点更稳定一些，提供这些节点的服务商称为 `机场`。

> 另外说一下 VPN，VPN 的初衷不是为了跨过防火墙，而是为了企业的信息安全，因为其加密特征十分明显，很容易被识别，所以如果正常访问谷歌学术或者观看视频不建议使用VPN。
> 

接下来介绍两个电脑软件的使用，电脑会用后安卓上的操作也异曲同工，而iOS上软件都收费，这里就先不讲。

## **v2rayN**

此软件使用较为简单，适合简单用途，初上手使用。

1. 首先下载软件，下载 `v2rayN-Core.zip`。
这是GUI图形界面和核心，如果下载另一个只有界面，还得再下载核心。
[链接点这里](https://github.com/2dust/v2rayN/releases)
2. 下载后直接解压，不需要安装，之后打开 `v2rayN.exe`。
3. 打开后电脑任务栏右下角会有图标，双击打开界面，界面元素如下：
   
    ![https://pic.imgdb.cn/item/63218e1816f2c2beb1b3db6a.png](https://pic.imgdb.cn/item/63218e1816f2c2beb1b3db6a.png)
    
4. 点击 `订阅-订阅设置` 即可添加订阅，添加完成后点击 `订阅-更新订阅`。
5. 右击电脑任务栏右下角图标，将 `系统代理` 后的选项设置为 `自动配置系统代理`，即可正常使用。
   
    ![https://pic.imgdb.cn/item/63218e5616f2c2beb1b41b67.png](https://pic.imgdb.cn/item/63218e5616f2c2beb1b41b67.png)
    

> 关闭软件前一定要将系统代理后的选项设置为清除系统代理，然后退出软件，如果不清除只退出软件，会无法访问网络。
> 

## **Clash for Windows**

此软件适合进阶用户使用，通过使用 `策略组`，以域名或关键字进行分流，如一些流媒体视频网站使用某个节点，谷歌的服务使用某个节点。

1. 下载软件，此软件最好安装，可以第一时间更新，链接[点这里](https://github.com/Fndroid/clash_for_windows_pkg/releases)，安装后打开软件。
2. 软件构成如下，只需要用到前三个。

![https://pic.imgdb.cn/item/6321901d16f2c2beb1b63047.png](https://pic.imgdb.cn/item/6321901d16f2c2beb1b63047.png)

![https://pic.imgdb.cn/item/63218ee116f2c2beb1b4be11.png](https://pic.imgdb.cn/item/63218ee116f2c2beb1b4be11.png)

1. 首先打开 `Profiles`，将服务商给的链接粘贴，下载配置文件。

    ![https://pic.imgdb.cn/item/63218f2816f2c2beb1b50cfc.png](https://pic.imgdb.cn/item/63218f2816f2c2beb1b50cfc.png)

2. 然后打开 `Proxies`，最上方选择 `Rule`，代表通过策略组的设置分流代理，如果选择 `Global` 代表全部流量经过节点代理，如果选择 `Direct`，代表即使打开软件，仍然是直接访问目标服务器，不经过代理，人话就是开没开一样。
3. 选择各个策略组想用的节点，比如上图，`Proxy` 组里包括了国外常用的网站，那么可以选择一个节点，`Netflix` 组是 `Netflix` 的域名和服务器的地址，那么我选择香港节点，`HBO Max` 由于只有美国有，因此只能使用美国节点。策略组之间是可以嵌套选择的，比如如果我 `Netflix` 策略组下面选择 `HBO Max` 策略组，那么最后 `Netflix` 也选用的美国节点，这样可以提高使用效率，不用频繁切换节点。图上只是自用的一些策略组，通常不同服务商提供的策略组有差异，当然如果有探索的心，也可进阶使用，根据自身需求定制策略组。
4. 打开 `System Proxy`，不用了也是需要在这里关掉再退出软件。

> 如果学校订阅了一些期刊，代理后 `IP` 地址变化了，就无法正常使用学校的数据库了，这时候可以建立一个学术的策略组，这个组选择 `Direct`，那么就相当于直接通过学校的网络访问，其余一些情况也同理。